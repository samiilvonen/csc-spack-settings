packages:
  all:
    permissions:
      write: group
      group: p_installation_spack
    compiler: [gcc, intel]
    providers:
      mpi: [openmpi, mpich, intel-oneapi-mpi]
      blas: [intel-oneapi-mkl]
      lapack: [intel-oneapi-mkl]
      scalapack:: [netlib-scalapack, intel-oneapi-mkl]
  curl:
    variants: ~gssapi~ldap+libidn2~librtmp~libssh+libssh2+nghttp2 tls=gnutls
  gcc:
    variants: +binutils
  hwloc:
    buildable: false
    externals:
    - spec: hwloc@2.2.0
      prefix: /appl/spack/syslibs
  libevent:
    buildable: false
    externals:
    - spec: libevent@2.1.8
      prefix: /appl/spack/syslibs
  libtool:
    version: [2.4.6]
  lua:
    version: [5.3.4]
  pmix:
    buildable: false
    externals:
    - spec: pmix@3.2.3
      prefix: /appl/spack/syslibs/pmix/3.2.3
  openmpi:
    variants: fabrics=ucx schedulers=slurm ~static +pmix +lustre +thread_multiple +mlnx_platform +sys_libevent ~gpfs
  openblas:
    variants: +consistent_fpcsr threads=openmp
  openssh:
    buildable: false
    externals:
    - spec: openssh@8.0p1
      prefix: /appl/spack/syslibs
  openssl:
    buildable: false
    externals:
    - spec: openssl@1.1.1k
      prefix: /appl/spack/syslibs
  gnutls:
    buildable: false
    externals:
    - spec: gnutls@3.6.16
      prefix: /appl/spack/syslibs
  slurm:
    buildable: false
    externals:
    - spec: slurm@23.11.4
      prefix: /appl/spack/syslibs
  fftw:
    variants: +fma simd=avx512
  lustre:
    buildable: false
    externals:
    - spec: lustre@2.12.9
      prefix: /appl/spack/syslibs
  ucx:
    variants: +thread_multiple
    buildable: false
    externals:
    - spec: ucx@1.12.1~cuda+thread_multiple
      prefix: /appl/opt/ucx/1.12.1
